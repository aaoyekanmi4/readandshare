{"version":3,"sources":["components/BookForm.js","components/DeleteBook.js","utils/setAuthToken.js","context/AuthContext.js","components/Navbar.js","components/ValidationError.js","components/SignUpForm.js","components/LoginForm.js","components/PrivateRoute.js","components/BookEntry.js","context/BookContext.js","components/BookTable.js","components/Modal.js","components/FlashMessage.js","components/Home.js","hooks/useFlashMessage.js","App.js","index.js"],"names":["BookForm","props","onSubmit","className","formTitle","name","value","watchInput","title","onChange","addInput","autoComplete","type","placeholder","author","pages","status","onClick","onClose","actionText","DeleteBook","bookTitle","setAuthToken","token","axios","defaults","headers","common","AuthContext","React","createContext","Navbar","authContext","useContext","isAuthenticated","logout","user","authLinks","href","guestLinks","to","style","color","ValidationError","message","SignUpForm","useState","userUsed","setUserUsed","register","error","clearErrors","email","password","password2","setUser","useEffect","history","push","validatePassword","length","validatePasswordConfirmation","e","target","width","margin","marginTop","preventDefault","required","disabled","LoginForm","login","responseError","setResponseError","console","log","PrivateRoute","loading","children","BookEntry","displayStatusIcon","textAlign","backgroundColor","border","cursor","edit","book","delete","id","BookContext","BookTable","bookContext","books","getBooksByUser","bookEntries","map","index","key","_id","clickEdit","clickDelete","Modal","this","show","ReactDOM","createPortal","stopPropagation","padding","document","getElementById","Component","FlashMessage","class","Home","loadUser","marginBottom","showFlash","flashColor","showEditBook","showDeleteBook","showAddBook","isModalOpen","toggleModal","crudAction","pickModalChild","useFlashMessage","setShowFlash","isInitialMount","useRef","current","setTimeout","App","localStorage","addBook","deleteBook","editBook","setIsModalOpen","setCrudAction","bookFormData","setbookFormData","setMessage","setFlashColor","handleBookSubmission","event","handleBookDelete","handleBookEdit","handleOnChange","newValue","prevbookFormData","exact","path","deletionId","titleToDelete","deletionValues","component","render","setBooks","setError","a","async","config","header","get","res","data","response","msg","Provider","post","put","getItem","setToken","setIsAuthenticated","setLoading","removeItem","formData","setItem"],"mappings":"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","file":"static/js/main.22f6d3d0.chunk.js","sourcesContent":["import React from  'react';\r\n\r\n\r\nconst BookForm =(props)=>{\r\n\r\n\r\n    return (\r\n        <div>\r\n          <form onSubmit = {props.onSubmit} className=\"ui large form\" >\r\n            <h2 className=\"ui dividing header\">{props.formTitle}</h2>\r\n            <div className=\"field\">\r\n              <label>Title</label>\r\n              <input \r\n                name=\"title\" \r\n                value={props.watchInput.title}\r\n                onChange={props.addInput}  \r\n                autoComplete=\"off\" type=\"text\" \r\n                placeholder=\"Title of Book\"\r\n                />\r\n           </div>\r\n           <div className=\"field\">\r\n             <label>Author</label>\r\n             <input  \r\n               value={props.watchInput.author}\r\n               name=\"author\" \r\n               onChange={props.addInput} \r\n               autoComplete=\"off\" \r\n               type=\"text\" \r\n               placeholder=\"Author\"/>\r\n          </div> \r\n          <div className=\"field\">\r\n            <label>Pages</label>\r\n            <input \r\n              value={props.watchInput.pages}\r\n              name=\"pages\" \r\n              autoComplete=\"off\" \r\n              type=\"text\" \r\n              onChange={props.addInput} \r\n              placeholder=\"Pages\"/>\r\n          </div> \r\n          <div className=\"field\">\r\n            <label>Status</label>\r\n            <select name=\"status\" \r\n                  value={props.watchInput.status} \r\n                  onChange={props.addInput} >\r\n              <option value=\"Not Started\">Not Started</option>\r\n              <option value=\"Reading\">Reading</option>\r\n              <option value=\"Finished Reading\">Finished Reading</option>\r\n            </select>\r\n          </div>\r\n  <div className=\"actions\">\r\n            <button className=\"ui button right floated\" onClick={props.onClose}>\r\n              Cancel\r\n            </button>\r\n            <button className=\"ui button primary right floated\"  type=\"submit\">\r\n              {props.actionText} \r\n            </button>\r\n          </div>\r\n     \r\n    </form>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default BookForm;","import React from 'react';\r\n\r\nconst DeleteBook = (props) => {\r\n    return(\r\n          <form className=\"ui large form\" onSubmit ={props.onSubmit}>\r\n    <h2 className=\"ui dividing header\">{props.formTitle}</h2>\r\n<h3>{`Are you sure you want to delete \"${props.bookTitle}\"?`}</h3>\r\n    <div className=\"actions\">\r\n            <button className=\"ui button right floated\" onClick={props.onClose}>\r\n              Cancel\r\n            </button>\r\n            <button className=\"ui button primary right floated negative\"  type=\"submit\">\r\n              {props.actionText} \r\n            </button>\r\n          </div>\r\n   \r\n    </form>\r\n    )\r\n}\r\n\r\nexport default DeleteBook;","import axios from 'axios';\r\n\r\n//set token to global header if passed in\r\nconst setAuthToken = token => {\r\n  if (token) {\r\n    axios.defaults.headers.common['x-auth-token'] = token;\r\n  }\r\n  else {\r\n    delete axios.defaults.headers.common['x-auth-token'];\r\n  }\r\n}\r\n\r\nexport default setAuthToken;","import React, {useState} from 'react';\r\nimport axios from 'axios';\r\nimport setAuthToken from '../utils/setAuthToken'\r\nconst AuthContext = React.createContext();\r\n\r\nconst AuthContextProvider = (props) => {\r\n    const [token, setToken] = useState(localStorage.getItem('token'));\r\n    const [isAuthenticated, setIsAuthenticated] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [user, setUser] = useState(null);\r\n\r\n    //Load User\r\n    const loadUser = async () => {\r\n      //set global header with token if exists\r\n      if (localStorage.token) setAuthToken(localStorage.token);\r\n      \r\n      try {\r\n        const res = await axios.get('/api/auth')\r\n        setIsAuthenticated(true);\r\n        setLoading(false);\r\n        setUser(res.data)\r\n\r\n      }\r\n      catch(err) {\r\n      const responseError= err.response.data.msg\r\n      localStorage.removeItem('token');\r\n      setError(responseError);\r\n      setToken(null);\r\n      setLoading(false);\r\n      setUser(null);\r\n      }\r\n    }\r\n    //Register User\r\n    const register = async formData => {\r\n      const config = {\r\n        headers: {\r\n          'Content-Type':'application/json'\r\n        }\r\n      }\r\n      try {\r\n        const res = await axios.post('/api/users', formData, config)\r\n        //set the token returned from the post request to local storage\r\n        const token = res.data.token;   \r\n        localStorage.setItem(\"token\", token)\r\n        console.log(localStorage.token)\r\n        setToken(token)\r\n        setIsAuthenticated(true);\r\n        setLoading(false);\r\n        loadUser();\r\n       \r\n\r\n      } catch (err) {\r\n        const responseError= err.response.data.msg\r\n        localStorage.removeItem('token');\r\n        setError(responseError);\r\n        setToken(null);\r\n        setLoading(false);\r\n        setUser(null);\r\n        \r\n      }\r\n    }\r\n\r\n    //Login User\r\n    const login = async formData => {\r\n      const config = {\r\n        headers: {\r\n          'Content-Type':'application/json'\r\n        }\r\n      }\r\n      try {\r\n        const res = await axios.post('/api/auth', formData, config)\r\n        //set the token returned from the post request to local storage\r\n        const token = res.data.token;   \r\n        localStorage.setItem(\"token\", token)\r\n        setToken(token)\r\n        setIsAuthenticated(true);\r\n        setLoading(false);\r\n        loadUser();\r\n       \r\n\r\n      } catch (err) {\r\n        const responseError= err.response.data.msg\r\n        \r\n        setError(responseError);\r\n        \r\n        \r\n      }\r\n    }\r\n    //Logout\r\n    const logout = () => {\r\n      localStorage.removeItem('token');\r\n      setIsAuthenticated(false);\r\n      setToken(null);\r\n      setLoading(false);\r\n      setUser(null);\r\n    }\r\n    //Clear Errors\r\n    const clearErrors = () => setError(null);\r\n\r\n    return (\r\n      <AuthContext.Provider value={{logout, register, login, token, isAuthenticated, loading, error, user, clearErrors, loadUser} }>\r\n        {props.children}\r\n      </AuthContext.Provider>\r\n    ) \r\n}\r\n\r\n\r\n\r\nexport {AuthContextProvider, AuthContext}","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { AuthContext } from '../context/AuthContext'\r\n\r\nconst Navbar = () => {\r\n  const authContext = useContext(AuthContext);\r\n  const {isAuthenticated, logout, user} = authContext;\r\n  \r\n  const onLogout = () => {\r\n    logout();\r\n  }\r\n  const authLinks = (\r\n    <>\r\n    <span className=\"item\">Signed in as {user && user.name}</span>\r\n    <span className=\"item\">\r\n      <a onClick={onLogout} href=\"#!\">\r\n        Sign Out\r\n      </a>\r\n    </span>\r\n    </>\r\n  )\r\n  const guestLinks = (\r\n    <>\r\n    <Link to=\"/register\" className=\"item\">Sign Up</Link>\r\n    <Link to=\"/login\" className=\"item\">Login</Link>\r\n    </>\r\n  )\r\n  return (\r\n    <div className=\"ui menu\">\r\n      <div className=\"left menu\">\r\n        <Link to=\"/\" style={{color:'black'}}><h2>\r\n          <i className=\"book icon\"/> Book App \r\n          </h2>\r\n        </Link>\r\n      </div>\r\n    <div className=\"right menu\">\r\n      {isAuthenticated ? authLinks : guestLinks}\r\n  </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\n\r\nexport default function ValidationError(props) {\r\n  if(props.message) {\r\n    return (\r\n      <div style={{color: 'red'}} className=\"error\">{props.message}</div>\r\n    );\r\n  }\r\n\r\n  return <></>\r\n}\r\n\r\n","import React, {useState, useContext, useEffect} from 'react';\r\nimport { AuthContext } from '../context/AuthContext'\r\nimport ValidationError from './ValidationError'\r\n\r\n\r\nconst SignUpForm =(props)=>{\r\n\r\n  const authContext = useContext(AuthContext);\r\n  const [userUsed, setUserUsed] = useState(null);\r\n  const { register, error, clearErrors, isAuthenticated } = authContext;\r\n\r\n  const [user, setUser] = useState({\r\n    name:'',\r\n    email:'',\r\n    password:'',\r\n    password2:''\r\n  });\r\n\r\n   useEffect(() => {\r\n     if(isAuthenticated) {\r\n       props.history.push('/');\r\n     }\r\n     if(error === 'User already exists') setUserUsed(error)\r\n     clearErrors();\r\n     // eslint-disable-next-line\r\n   }, [error, isAuthenticated, props.history])\r\n  const {name, email, password, password2} = user;\r\n  \r\n  const validatePassword= ()=> {\r\n    if (password.length < 6) {\r\n      return 'Password must be at least 6 characters'\r\n     \r\n    }\r\n  }\r\n\r\n  const validatePasswordConfirmation= ()=> {\r\n    if (password !== password2) {\r\n      return 'Passwords do not match'\r\n    }\r\n  }\r\n\r\n\r\n  const onChange = e => {\r\n    setUser({...user, [e.target.name]: e.target.value});\r\n    setUserUsed(null)\r\n  }\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    register({name, email, password})\r\n\r\n  }\r\n  \r\n  return (\r\n      <div style={{width:420, margin: '0 auto', marginTop:'10%'}}>\r\n        <form onSubmit = {onSubmit} className=\"ui  form\" >\r\n        <ValidationError message={userUsed}/>\r\n          <h2 className=\"ui dividing header\">Sign Up </h2>\r\n          <div className=\"field\">\r\n            <label>Name</label>\r\n            <input \r\n              name=\"name\" \r\n              value={name}\r\n              onChange={onChange}  \r\n              autoComplete=\"off\" type=\"text\" \r\n              required />\r\n         </div>\r\n         <div className=\"field\">\r\n           <label>Email</label>\r\n           <input  \r\n             value={email}\r\n             name=\"email\" \r\n             onChange={onChange} \r\n             autoComplete=\"off\" \r\n             type=\"email\" \r\n            required />\r\n        </div> \r\n        <div className=\"field\">\r\n          <label>Password</label>\r\n          <input \r\n            value={password}\r\n            name=\"password\" \r\n            type=\"password\" \r\n            onChange={onChange} \r\n            required />\r\n              <ValidationError message={validatePassword()}/>\r\n        </div> \r\n        <div className=\"field\">\r\n          <label>Confirm Password</label>\r\n          <input \r\n            value={password2}\r\n            name=\"password2\" \r\n            type=\"password\" \r\n            onChange={onChange} \r\n          />\r\n            <ValidationError message={validatePasswordConfirmation()}/>\r\n        </div> \r\n<div className=\"actions\">\r\n          <button disabled={validatePassword() || validatePasswordConfirmation()} className=\"ui button primary right floated\"  type=\"submit\">\r\n            Sign Up \r\n          </button>\r\n        </div>\r\n   \r\n  </form>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default SignUpForm;","import React, {useState, useContext, useEffect} from 'react';\r\nimport { AuthContext } from '../context/AuthContext'\r\nimport ValidationError from './ValidationError'\r\n\r\n\r\nconst LoginForm =(props)=>{\r\n  const authContext = useContext(AuthContext);\r\n  const {login, error, clearErrors, isAuthenticated} = authContext;\r\n  const [responseError, setResponseError] = useState(null);\r\n  const [user, setUser] = useState({\r\n    email:'',\r\n    password:''\r\n  });\r\n\r\n  const {email, password} = user;\r\n  console.log(error)\r\n useEffect(()=> {\r\n   if (isAuthenticated) {\r\n     props.history.push('/')\r\n   }\r\n   if (error==='Invalid Credentials' || error ==='User not found') setResponseError(error);\r\n   clearErrors();\r\n   // eslint-disable-next-line\r\n },[])\r\n\r\n  const onChange = e => setUser({...user, [e.target.name]: e.target.value});\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    login({email, password}) \r\n    \r\n  }\r\n  \r\n  return (\r\n      <div style={{width:420, margin: '0 auto', marginTop:'10%'}}>\r\n\r\n        <form onSubmit = {onSubmit} className=\"ui  form\" >\r\n          \r\n    <ValidationError message={responseError} />\r\n          <h2 className=\"ui dividing header\">Login </h2>\r\n     \r\n         <div className=\"field\">\r\n           <label>Email</label>\r\n           <input  \r\n             value={email}\r\n             name=\"email\" \r\n             onChange={onChange} \r\n             autoComplete=\"off\" \r\n             type=\"email\" \r\n            required />\r\n        </div> \r\n        <div className=\"field\">\r\n          <label>Password</label>\r\n          <input \r\n            value={password}\r\n            name=\"password\" \r\n            type=\"password\" \r\n            autoComplete=\"off\"\r\n            onChange={onChange} \r\n            required />\r\n                    \r\n        </div> \r\n      \r\n<div className=\"actions\">\r\n          <button disabled={!password || !email} className=\"ui button primary right floated\"  type=\"submit\">\r\n           Login \r\n          </button>\r\n        </div>\r\n   \r\n  </form>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default LoginForm;","import React, {useContext} from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nconst PrivateRoute = (props) => {\r\n  const authContext = useContext(AuthContext);\r\n  const { isAuthenticated, loading } = authContext;\r\n\r\n  return (\r\n    <Route>\r\n      {!isAuthenticated && !loading ?  <Redirect to=\"/login\" /> :  props.children}\r\n    </Route>\r\n  )\r\n     \r\n  }\r\n  \r\n \r\n\r\n export default PrivateRoute;\r\n\r\n","import React from 'react';\r\n\r\nimport './BookEntry.css'\r\n\r\nconst BookEntry = (props) => {\r\n   \r\n  function displayStatusStyle (status) {\r\n    if (status === \"Finished Reading\"){\r\n       return \"read\"\r\n    }\r\n    else if (status === \"Reading\") {\r\n      return \"current\"\r\n    }\r\n    else {\r\n      return \"not-started\"\r\n    }\r\n\r\n  }\r\n  function displayStatusIcon (status) {\r\n    if (status ===\"Finished Reading\"){\r\n      return <i className=\"icon checkmark\"></i>\r\n    }\r\n    else if (status === \"Reading\"){\r\n      return <i className=\"bookmark icon\"></i>\r\n    }\r\n    else {\r\n      return <i className=\"book icon\"></i>\r\n    }\r\n  }\r\n    return( \r\n        <tr className={displayStatusStyle(props.status)}>\r\n         \r\n        <td  className=\"title\">{displayStatusIcon(props.status)} {props.title}</td>\r\n        <td className=\"author\">{props.author}</td>\r\n        <td className=\"pages\">{props.pages}</td>\r\n        <td className=\"status\">{props.status}</td>\r\n        <td style={{textAlign:'center'}}  className=\"edit\">\r\n          <button style={{backgroundColor:'transparent', border:'none',color:'gray', cursor:'pointer'}}  onClick={() =>props.edit(props.book)}>\r\n          <i className=\"edit icon\"></i>\r\n          </button>\r\n          </td>\r\n        <td  style={{textAlign:'center'}}  className=\"delete\">\r\n          <button style={{backgroundColor:'transparent', border:'none', color:'red', cursor:'pointer' }}  onClick={()=>props.delete(props.id, props.title)}>\r\n          <i className=\"trash alternate outline icon\"></i>\r\n          </button></td>\r\n        \r\n      </tr>\r\n    )\r\n}\r\n\r\nexport default BookEntry;","import React, {useState} from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\nconst BookContext = React.createContext();\r\n\r\nconst BookContextProvider = (props) => {\r\n   const [books, setBooks] = useState([]);\r\n   const [error, setError] = useState(null);\r\n   //Get Books\r\n   const getBooksByUser = async () => {\r\n    const config = {\r\n      header: {\r\n        'Content-Type':'application/json'\r\n      }\r\n    }\r\n      try {\r\n        const res = await axios.get('/api/books', config)\r\n        setBooks(res.data)\r\n \r\n \r\n      } catch (err) {\r\n        const responseError= err.response.data.msg\r\n        setError(responseError);\r\n      }\r\n   }\r\n\r\n   //Add Book\r\n   const addBook = async book => {\r\n     const config = {\r\n       header: {\r\n         'Content-Type':'application/json'\r\n       }\r\n     }\r\n     try {\r\n       await axios.post('/api/books', book, config)\r\n       console.log(books)\r\n       getBooksByUser();\r\n     \r\n\r\n\r\n     } catch (err) {\r\n        const responseError= err.response.data.msg\r\n        setError(responseError);\r\n     }\r\n   }\r\n   //Delete Book\r\n   const deleteBook = async id => {\r\n    const config = {\r\n      header: {\r\n        'Content-Type':'application/json'\r\n      }\r\n    }\r\n    try {\r\n    await axios.delete(`/api/books/${id}`, config)\r\n    getBooksByUser();\r\n  }\r\n    catch(err) {\r\n      const responseError= err.response.data.msg\r\n      setError(responseError);\r\n    }\r\n  }\r\n   \r\n\r\n\r\n   //Edit Book\r\n   const editBook = async book => {\r\n    const config = {\r\n      header: {\r\n        'Content-Type':'application/json'\r\n      }\r\n    }\r\n    try {\r\n      console.log('i ran')\r\n      \r\n      await axios.put(`/api/books/${book.id}`, book, config)\r\n      getBooksByUser();\r\n      \r\n    \r\n\r\n\r\n    } catch (err) {\r\n       const responseError= err.response.data.msg\r\n       setError(responseError);\r\n\r\n       console.log('error ran')\r\n    }\r\n  }\r\n  return (\r\n    <BookContext.Provider value={{\r\n      books,\r\n      addBook,\r\n      getBooksByUser,\r\n      deleteBook,\r\n      editBook,\r\n      error\r\n      \r\n    }}>\r\n      {props.children}\r\n    </BookContext.Provider>\r\n  )\r\n   \r\n\r\n}\r\n\r\nexport {BookContext, BookContextProvider};","import React, {useContext, useEffect} from 'react';\r\nimport BookEntry from './BookEntry';\r\nimport { BookContext } from '../context/BookContext'\r\nimport './BookTable.css'\r\n\r\n\r\nconst BookTable = (props) => {\r\nconst bookContext = useContext(BookContext);\r\nconst { books, getBooksByUser} = bookContext;\r\nuseEffect (() => {\r\n  getBooksByUser();\r\n  // eslint-disable-next-line\r\n},[])\r\nconst bookEntries = books.map((book, index) =>{\r\n\r\n return  <BookEntry  key={index}\r\n            id={book._id}\r\n            title={book.title}\r\n            author={book.author}\r\n            pages={book.pages}\r\n            status={book.status}\r\n            edit = {props.clickEdit } \r\n            delete = {props.clickDelete}\r\n            book={book}\r\n    />\r\n\r\n}\r\n)\r\n\r\n\r\n\r\n    return( \r\n    <div>\r\n     \r\n       <table className=\"ui table\">\r\n  <thead> \r\n    <tr><th>Title</th>\r\n    <th >Author</th>\r\n    <th >Pages</th>\r\n    <th >Status</th>\r\n    <th >Edit</th>\r\n    <th>Delete</th>\r\n  </tr></thead>\r\n  <tbody>\r\n      {books ? bookEntries : 'Loading...'}\r\n  </tbody>\r\n</table>\r\n\r\n</div>\r\n        )\r\n}\r\n\r\nexport default BookTable;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass Modal extends React.Component {\r\n  render() {\r\n    // Render nothing if the \"show\" prop is false\r\n    if(!this.props.show) {\r\n      return null;\r\n    }\r\n\r\n    return ReactDOM.createPortal(\r\n      <div \r\n      onClick={this.props.onClose}\r\n        className=\"ui dimmer modals visible active\"\r\n        > \r\n        <div  \r\n          onClick ={(e) => e.stopPropagation()} \r\n          className=\"ui standard modal visible active\"\r\n\r\n          style={{width:'30%', padding:50}}>\r\n          {this.props.children}\r\n         \r\n        \r\n        \r\n        </div>\r\n      </div>, document.getElementById('modal')\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default Modal;","import React from 'react';\r\n\r\nconst FlashMessage = (props) => {\r\n    \r\n    return (<div style={props.color} class=\"ui message\">\r\n    <p >{props.message}</p>\r\n  </div>) \r\n}\r\n\r\nexport default FlashMessage;","import React, {useContext, useEffect} from 'react';\r\nimport BookTable from './BookTable';\r\nimport Modal from './Modal';\r\nimport FlashMessage from './FlashMessage';\r\nimport { AuthContext } from '../context/AuthContext'\r\nconst Home = (props) => {\r\n  const authContext = useContext(AuthContext);\r\n  const {loadUser} = authContext;\r\n  useEffect(() => {\r\n    loadUser();\r\n    //eslint-disable-next-line\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n\r\n    <div className=\"ui container\">\r\n        \r\n        <h1 className=\"ui header\" style={{textAlign:'center', marginBottom:'140px', marginTop: '60px'}}>Book App</h1>\r\n        {props.showFlash ?<FlashMessage color ={props.flashColor}message={props.message} />: null }\r\n        <BookTable clickEdit ={props.showEditBook}\r\n                   clickDelete = {props.showDeleteBook}\r\n               />\r\n        <button style={{marginTop:10}}\r\n                onClick={props.showAddBook}\r\n                className=\"ui primary button right floated\">\r\n            Add Book\r\n        </button>\r\n        <Modal show={props.isModalOpen} onClose ={props.toggleModal} actionText ={props.crudAction} >         \r\n                {props.pickModalChild()}\r\n        </Modal>\r\n     \r\n    </div>\r\n    </>\r\n  )\r\n}\r\nexport default Home;","import {useState, useEffect, useRef} from 'react';\r\n\r\n\r\nconst useFlashMessage = (message) => {\r\n    \r\n    const [showFlash, setShowFlash] = useState(false);\r\n     \r\n    const isInitialMount = useRef(true);\r\n\r\n    useEffect(() => {\r\n      if (isInitialMount.current) {\r\n         isInitialMount.current = false;\r\n      } else {\r\n          // Your useEffect code here to be run on update\r\n          setShowFlash(true);\r\n          setTimeout(() => {\r\n              setShowFlash(false);    \r\n          }, 3000)\r\n          console.log('useEffect ran')\r\n      }\r\n    }, [message]);\r\n \r\n     \r\n   return {showFlash}\r\n    \r\n\r\n\r\n}\r\nexport default useFlashMessage;\r\n\r\n","import React, { useState, useContext} from 'react';\r\n\r\nimport BookForm from './components/BookForm';\r\nimport DeleteBook from './components/DeleteBook';\r\nimport Navbar from './components/Navbar'\r\nimport SignUpForm from './components/SignUpForm';\r\nimport LoginForm from './components/LoginForm';\r\nimport PrivateRoute from './components/PrivateRoute'\r\nimport Home from './components/Home'\r\nimport useFlashMessage from './hooks/useFlashMessage'\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport setAuthToken from './utils/setAuthToken'\r\nimport { BookContext } from './context/BookContext';\r\n\r\n\r\nconst App = () => {\r\n    //set global header with jwt token\r\n    if (localStorage.token) setAuthToken(localStorage.token);\r\n   \r\n    \r\n    //\r\n    const bookContext = useContext(BookContext);\r\n    const { addBook, deleteBook, editBook}  = bookContext;\r\n\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [crudAction, setCrudAction] = useState(null);\r\n \r\n\r\n    const [bookFormData, setbookFormData] = useState({id: '',title:'', author: '', pages: '', status: 'Not Started'})\r\n    const [message, setMessage] = useState('');\r\n\r\n    const {showFlash} = useFlashMessage(message); \r\n    const [flashColor, setFlashColor] = useState(null);\r\n\r\n                \r\n\r\n\r\n    const handleBookSubmission = (event) => {\r\n        event.preventDefault();\r\n        \r\n        addBook(bookFormData)\r\n       \r\n        toggleModal();\r\n        setMessage(`Succesfully added \"${bookFormData.title}\"`);\r\n        setFlashColor({border: '1px solid green'})\r\n     \r\n    }\r\n\r\n    const handleBookDelete = (event) => {\r\n        event.preventDefault();\r\n        // let booksCopy = [...books];\r\n        // let booksListWithDeletion = booksCopy.filter(book => book.id !== bookFormData.id);\r\n        deleteBook(bookFormData.id)\r\n        toggleModal();\r\n        setMessage(`Deleted \"${bookFormData.title}\"`);\r\n        setFlashColor({border: '1px solid red'})\r\n        \r\n    }\r\n\r\n  const handleBookEdit = (event) => {\r\n        event.preventDefault();\r\n        console.log(bookFormData)\r\n        editBook(bookFormData);\r\n      \r\n       \r\n        toggleModal();\r\n        setMessage(`Edited \"${bookFormData.title}\"`);\r\n        setFlashColor({border: '1px solid orange'})\r\n    }\r\n\r\n  const handleOnChange = (event) => {\r\n        const name = event.target.name;\r\n        const newValue = event.target.value;  \r\n        setbookFormData(prevbookFormData =>({...prevbookFormData, [name]: newValue}));\r\n       \r\n    }\r\n\r\n    const toggleModal = () => {\r\n        setIsModalOpen(!isModalOpen);\r\n        setCrudAction(null);\r\n        \r\n    }\r\n\r\n    const showAddBook = () =>{\r\n        setbookFormData({id:'',\r\n        title: '',\r\n        author:'',\r\n        pages:'',\r\n        status:'Not Started'})\r\n        toggleModal();\r\n        setCrudAction('Add');\r\n    }\r\n    const showEditBook = (book) =>{\r\n      \r\n        setbookFormData({id:book._id,title:book.title, author:book.author, status:book.status, pages:book.pages})\r\n        toggleModal();\r\n        setCrudAction('Edit');\r\n\r\n    }\r\n    const showDeleteBook = (deletionId,titleToDelete) =>{\r\n        toggleModal();\r\n        const deletionValues = {id:deletionId, title:titleToDelete}\r\n      \r\n        setCrudAction('Delete');\r\n        setbookFormData({...bookFormData,...deletionValues})\r\n\r\n    }\r\n    const pickModalChild =()=>{\r\n        if (crudAction === 'Add'){ \r\n            return <BookForm \r\n                    formTitle=\"Add New Book\"\r\n                    actionText={crudAction}\r\n                    onClick ={handleBookSubmission}\r\n                    addInput = {handleOnChange}\r\n                    onSubmit = {handleBookSubmission}\r\n                    watchInput = {bookFormData}  \r\n                    onClose ={toggleModal}\r\n                   \r\n                />\r\n            }\r\n        else if(crudAction === 'Edit'){ \r\n            return <BookForm \r\n                    formTitle=\"Edit Book\"\r\n                    actionText={crudAction}\r\n                    addInput = {handleOnChange}\r\n                    watchInput = {bookFormData}\r\n                    onClose ={toggleModal}\r\n                    onSubmit = {handleBookEdit}\r\n                />\r\n            }\r\n        else if (crudAction === 'Delete'){\r\n            return  <DeleteBook \r\n                    formTitle=\"Delete Book\"\r\n                    actionText={crudAction}\r\n                    onSubmit = {handleBookDelete}\r\n                    onClose ={toggleModal}\r\n                    bookTitle = {bookFormData.title}\r\n                    />\r\n            }\r\n\r\n    }\r\n    return( \r\n        <>\r\n        <Navbar />\r\n        <Switch>\r\n           \r\n  <PrivateRoute exact path= \"/\" >\r\n  <Home \r\n        flashColor ={flashColor}\r\n        message ={message} \r\n        showEditBook={showEditBook}\r\n        showDeleteBook={showDeleteBook}\r\n        showAddBook = {showAddBook}\r\n        isModalOpen={isModalOpen}\r\n        pickModalChild={pickModalChild}\r\n        toggleModal ={toggleModal}\r\n        crudAction={crudAction}\r\n        showFlash={showFlash}\r\n        \r\n    />\r\n\r\n  </PrivateRoute>\r\n\r\n  />\r\n  \r\n    \r\n<Route path=\"/register\" component={SignUpForm}/>\r\n\r\n    \r\n   \r\n\r\n<Route path=\"/login\" component={LoginForm}/>\r\n\r\n\r\n        </Switch>\r\n        </>\r\n     \r\n        )\r\n    }\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { AuthContextProvider } from './context/AuthContext'\r\nimport {BookContextProvider} from './context/BookContext'\r\nimport {BrowserRouter} from 'react-router-dom'\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n  <BookContextProvider>\r\n    <AuthContextProvider>\r\n    <App />\r\n    </AuthContextProvider>\r\n    </BookContextProvider>\r\n  </BrowserRouter>\r\n,\r\n document.getElementById('root'));"],"sourceRoot":""}